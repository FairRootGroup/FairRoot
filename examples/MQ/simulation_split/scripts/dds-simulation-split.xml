<topology id="ExampleDDS">
    <property id="data#all#" />
    <property id="updateChannel" />
    <property id="primariesChannel" />

    <decltask id="Generator">
      <exe reachable="true">@SIM_BIN_LOCATION@/runMQGen --config-key generator --channel-config name=primariesChannel,type=push,method=bind --running-mode pp --severity INFO --nof-events 100000 --id sampler --random-seed 0 -S "&lt;@CMAKE_BINARY_DIR@/lib" -P dds --color false</exe>
        <properties>
          <id access="write">primariesChannel</id>
        </properties>
    </decltask>

    <decltask id="Transporter">
      <exe reachable="true">@SIM_BIN_LOCATION@/runMQTrans --config-key transporter --channel-config name=primariesChannel,type=pull,method=connect --running-mode pp --channel-config name=data#all#,type=push,method=connect --channel-config name=updateChannel,type=req,method=connect --severity DEBUG --transport-name TGeant3 --id transporter_%taskIndex% --random-seed 0 -S "&lt;@CMAKE_BINARY_DIR@/lib" -P dds --color false</exe>
        <properties>
          <id access="read">primariesChannel</id>
          <id access="read">data#all#</id>
	  <id access="read">updateChannel</id>
        </properties>
    </decltask>

    <decltask id="Sink">
      <exe reachable="true">@PIXEL_BIN_LOCATION@/pixel-sink --in-channel data#all# --severity DEBUG --id sink1 --channel-config name=data#all#,type=pull,method=bind --class-name FairMCEventHeader --branch-name MCEventHeader. --class-name "TClonesArray(PixelPoint)" --branch-name PixelPoint --class-name "TClonesArray(FairMCTrack)" --branch-name MCTrack --file-name @SIM_FILE_LOCATION@/examples/MQ/simulation_split/run/DDS.simulation_TGeant3.data.root -S "&lt;@CMAKE_BINARY_DIR@/lib" -P dds --color false</exe>
        <properties>
            <id access="write">data#all#</id>
        </properties>
    </decltask>

    <decltask id="ParamServer">
      <exe reachable="true">@FAIRROOT_BIN_LOCATION@/parmq-server zeromq --id parmq-server --channel-config name=updateChannel,type=rep,method=bind --severity DEBUG --update-channel-name updateChannel --output-name @SIM_FILE_LOCATION@/examples/MQ/simulation_split/run/DDS.simulation_TGeant3.pars.root -S "&lt;@CMAKE_BINARY_DIR@/lib" -P dds --color false</exe>
        <properties>
            <id access="write">updateChannel</id>
        </properties>
    </decltask>

    <main id="main">
        <task>Sink</task>
        <task>ParamServer</task>
        <task>Generator</task>
        <group id="TransporterGroup" n="5">
            <task>Transporter</task>
        </group>
    </main>

</topology>
