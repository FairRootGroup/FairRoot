/********************************************************************************
 *    Copyright (C) 2021 GSI Helmholtzzentrum fuer Schwerionenforschung GmbH    *
 *                                                                              *
 *              This software is distributed under the terms of the             *
 *              GNU Lesser General Public Licence (LGPL) version 3,             *
 *                  copied verbatim in the file "LICENSE"                       *
 ********************************************************************************/

#include "FairConfig.h"
#include <cstdlib>

FairConfig::FairConfig()
: fVMCWorkDir(LoadVMCWorkDir())
{}

FairConfig& FairConfig::Instance()
{
    static FairConfig instance;
    return instance;
}

const std::string& FairConfig::GetVMCWorkDir() const
{
    return fVMCWorkDir;
}

std::string FairConfig::LoadVMCWorkDir()
{
    // env variable overrides default
    const char* dir = std::getenv("VMCWORKDIR");
    if (dir) {
        return {dir};
    }

    // fallback to default value
    return {"@VMCWORKDIR_INSTALL@"};
}
