<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>FairRoot: scripts</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FairRoot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/db3/md__Users_turany_development_FairRoot_scripts_README.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">scripts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>1 How to use check_memory.sh</b></p>
<p>Add the following lines at the top of your macro. This will fork a process which will measure the memory used by executing the macro. The variable Interval defines the time between two measurements in seconds. Choose this Interval between two measurements according to your needs.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Int_t Interval=10;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Int_t PID=gSystem-&gt;GetPid();</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cout&lt;&lt;&quot;PID: &quot;&lt;&lt;PID&lt;&lt;endl;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;TString cmdline=&quot;$VMCWORKDIR/scripts/check_memory.sh &quot;;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;cmdline+= PID;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;cmdline+= &quot; &quot;;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;cmdline+= Interval;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;cmdline+= &quot;  &amp;&quot;;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;cout&lt;&lt;cmdline&lt;&lt;endl;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;gSystem-&gt;Exec(cmdline);</div>
</div><!-- fragment --><p>After you add the lines run the macro as normal. After the macro finished you will have a file memory_consumption_&lt;pid&gt;.txt which contains rows with a timestamp and the relevant information. This file can be used to plot the memory consumption as a function of time.</p>
<p><b>2 How to display the data taken with check_memory.sh</b></p>
<p>Run the root macro Read_Memory_File.C with the following parameters. The first parameter is the name of the file created with check_memory.sh . The second parameter is the time Interval between two measurements. It is planed to extract this information from the time string stored in the text file.</p>
<p>The macro converts the ascii input to a ntuple which is stored in a root file with the same name as the input file but the extension .root. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Apr 1 2020 08:18:54 for FairRoot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
